include includes/header.jade
include includes/banner.jade
#wrapper
    .whats-new-banner
        h1 Search
    .horizontal-separator

    .search-content


        if(resultsCount <= 0 || !results)
            .searchHeader
                h2
                    | Sorry, we found nothing for "#{searchTerm}"
            if(message)
                .errorMessage= message
        else
            .searchHeader
                h2
                    | #{resultsCount} results for "<a href="/search?q=#{searchTerm}">#{searchTerm}</a>"

        .pageChangeWrapper
            if(page - 1 > 0)
                a(class="pageChangeLink", href="/search?q=#{searchTerm}&page=#{ page - 1 <= 0 ? 1 : page - 1}")
                    | Previous Page

            if(page * resultMax < resultsCount)
                a(class="pageChangeLink", href="/search?q=#{searchTerm}&page=#{ page*1 + 1 }")
                    | Next Page

        if(results)
            each result in results
                .result
                    .resultTitle
                        a(href=result.src)
                            | #{result.version} : #{result.name}

        .pageChangeWrapper
            if(page - 1 > 0)
                a(class="pageChangeLink", href="/search?q=#{searchTerm}&page=#{ page - 1 <= 0 ? 1 : page - 1}")
                    | Previous Page

            if(page * resultMax < resultsCount)
                a(class="pageChangeLink", href="/search?q=#{searchTerm}&page=#{ page*1 + 1 }")
                    | Next Page

include includes/footer.jade