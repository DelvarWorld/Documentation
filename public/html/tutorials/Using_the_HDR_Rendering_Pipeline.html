<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>BabylonJS Documentation</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" href="/css/libs/slideout.css"><link rel="stylesheet" href="/css/libs/highlight/github.css"><link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.3/css/perfect-scrollbar.min.css"><link rel="stylesheet" href="/css/main.css"></head><body><nav id="menu"><div class="searchbar-mobile"><input type="text" placeholder="Search..."><i class="fa fa-search"></i></div><a href="/"><i class="fa fa-home"></i>Home</a><a href="/whats-new"><i class="fa fa-file-text-o"></i>What's new</a><a href="/tutorials"><i class="fa fa-cogs"></i>Tutorials</a><a href="/exporters"><i class="fa fa-rocket"></i>Exporters</a><a href="/extensions"><i class="fa fa-wrench"></i>Extensions</a><a href="/classes"><i class="fa fa-files-o"></i>Classes</a><div class="links"><a href="http://www.babylonjs.com" target="_blank"><i class="fa fa-play"></i>babylonjs.com</a><a href="https://github.com/BabylonJS/Babylon.js" target="_blank"><i class="fa fa-github"></i>Github</a><a href="http://www.html5gamedevs.com/forum/16-babylonjs" target="_blank"><i class="fa fa-html5"></i>Forum</a></div></nav></body></html><nav class="nav-main"><!-- Hamburger menu : displayed only in small screens--><i id="mobilemenu" class="fa fa-bars"></i><div class="banner"><div class="menu"><div id="home" class="do-not-hover"><span>Babylon.js | DOCUMENTATION</span></div><div id="whatsnew" class="item"><span>What's new</span></div><div id="tutorials" class="item"><span>Tutorials</span></div><div id="exporters" class="item"><span>Exporters</span></div><div id="extensions" class="item"><span>Extensions</span></div><div id="classes" class="item"><span>Classes</span></div></div><div class="more"><div class="searchbar"><meta content="http://localhost:3000/search?q={q}" itemprop="target"><input type="text" placeholder="Search..."><i class="fa fa-search"></i></div><div class="forward"><div><a href="http://www.babylonjs.com" target="_blank">babylonjs.com<i class="fa fa-play"></i></a></div></div></div></div></nav><div id="wrapper"><div class="statics-banner"><h1>tutorials</h1></div><div class="horizontal-separator"></div><div class="static-content"><h1>Using the HDR Rendering Pipeline</h1><br><div id="staticContent"><p>The HDR Rendering pipeline is a set of multiple post-processes. It tends to simulate the eye adaptation to the light and darkness and also simulate the most realistic glare.</p>
<p>The train demo (focus on the tunnel) : <a href="http://reath.free.fr/HDR/test.html">http://reath.free.fr/HDR/test.html</a></p>
<h2 id="instancing-the-pipeline">Instancing the pipeline</h2>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> hdr = <span class="hljs-keyword">new</span> BABYLON.HDRRenderingPipeline(<span class="hljs-string">"pipeline_name"</span>, scene, ratio, originalPostProcess, cameras);
</code></pre>
<p>The parameter <code>originalPostProcess</code> is the base color post-process for the pipeline. If <code>null</code>, a <code>BABYLON.PassPostProcess</code> is created by default.</p>
<p>The parameter <code>cameras</code> is an array of cameras on which the pipeline will be attached to.</p>
<h2 id="remove-the-pipeline">Remove the pipeline</h2>
<pre><code class="lang-javascript"><span class="hljs-tag">hdr</span><span class="hljs-class">.dispose</span>();
</code></pre>
<p>Will detach the pipeline from all cameras of the previously given scene.</p>
<h2 id="working-with-parameters">Working with parameters</h2>
<h3 id="gaussian-blur">Gaussian Blur</h3>
<p>The Gaussian Blur equation used:
<img src="http://homepages.inf.ed.ac.uk/rbf/HIPR2/eqns/eqngaus1.gif" alt="Elements"></p>
<p><code>hdr.gaussCoeff</code> controls the overall effect: <code>hdr.gaussCoeff * theEffect</code>. Default 0.3</p>
<p><code>hdr.gaussMean</code> is used to ajust the <code>x</code> value:  <code>x - hdr.gaussMean</code>. Default 1.0</p>
<p><code>hdr.gaussStandDev</code> controls the gaussian blur standard deviation (sigma). Default 0.8</p>
<h3 id="bright-pass">Bright Pass</h3>
<p>The bright pass is rendered before the gaussian blur pass. It is used to compute the minimum light needed to compute the HDR effect.</p>
<p><code>hdr.brightThreshold</code> default value is 0.8</p>
<h3 id="hdr">HDR</h3>
<p><code>hdr.exposure</code> is used to ajust the colors. High exposures are used to see details in darkness and low exposures in bright areas. Default value is 1.0</p>
<p><code>hdr.minimumLuminance</code> is the minimum luminance that the post-process can output. Luminance is &gt;= 0. Default value is 1.0.</p>
<p><code>hdr.maximumLuminance</code> is the maximum luminance that the post-process can output. Luminance is &gt; <code>hdr.minimumLuminance</code>. Default value is 1e20.</p>
<p><code>hdr.luminanceIncreaserate</code> controls the eye adaptation speed to the darkness. Default value is 0.5.</p>
<p><code>hdr.luminanceDecreaseRate</code> controls the eye adaptation speed to the light Default value is 0.5.</p>
<h2 id="example-of-configuration-to-get-focus-on-the-effect">Example of configuration to get focus on the effect</h2>
<pre><code class="lang-javascript">var <span class="hljs-variable">hdr =</span> new BABYLON.HDRRenderingPipeline(<span class="hljs-string">"hdr"</span>, scene, <span class="hljs-number">1.0</span>, [scene.activeCamera]);
hdr.<span class="hljs-variable">brightThreshold =</span> <span class="hljs-number">0.7</span>; // Minimum luminance needed to compute HDR
hdr.<span class="hljs-variable">gaussCoeff =</span> <span class="hljs-number">0.5</span>; // Gaussian <span class="hljs-variable">coefficient =</span> gaussCoeff * theEffectOutput;
hdr.<span class="hljs-variable">gaussMean =</span> <span class="hljs-number">1</span>; // The Gaussian blur mean
hdr.<span class="hljs-variable">gaussStandDev =</span> <span class="hljs-number">5</span>; // Standard Deviation of the gaussian blur.
hdr.<span class="hljs-variable">exposure =</span> <span class="hljs-number">1.0</span>;
hdr.<span class="hljs-variable">minimumLuminance =</span> <span class="hljs-number">0.2</span>;
hdr.<span class="hljs-variable">maximumLuminance =</span> <span class="hljs-number">1</span>e20;
hdr.<span class="hljs-variable">luminanceDecreaseRate =</span> <span class="hljs-number">0.3</span>; // Decrease rate: darkness to light
hdr.<span class="hljs-variable">luminanceIncreaserate =</span> <span class="hljs-number">0.5</span>; // Increase rate: light to darkness
</code></pre>
</div></div></div><footer class="footer"><div class="footer-item"><a href="http://www.html5gamedevs.com/forum/16-babylonjs" target="_blank" class="bjs-forum"><i class="fa fa-html5"></i>    Forum</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Babylon.js" target="_blank" class="bjs-github"><i class="fa fa-github"></i>    Github</a></div></footer><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/0.1.9/slideout.min.js"></script><script src="/js/index.js"></script>